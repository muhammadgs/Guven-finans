{% extends "base.html" %}

{% block title %}İşçi qeydiyyatı | Güvən Finans{% endblock %}

{% block header_extra_classes %}bg-white shadow-md header-scrolled no-scroll-effect{% endblock %}
{% block main_nav %}{% endblock %}

{% block content %}
<section class="bg-gray-50 py-16">
    <div class="mx-auto max-w-3xl px-4 sm:px-6 lg:px-8">
        <div class="mx-auto rounded-3xl bg-white p-8 shadow-xl ring-1 ring-gray-100">
            <div class="mb-8 text-center">
                <h1 class="text-3xl font-cal-sans text-gray-900">Əməkdaş qeydiyyatı</h1>
                <p class="mt-2 text-base text-gray-600">Zəhmət olmasa məlumatlarınızı daxil edin.</p>
            </div>

            <form class="space-y-8" data-worker-registration data-success-redirect="{% url 'login' %}" method="post">
                {% csrf_token %}

                <div class="space-y-3">
                    <label for="company_code" class="block text-sm font-cal-sans text-gray-700">Şirkət Kodu</label>
                    <div class="flex flex-col gap-3 sm:flex-row">
                        <input
                            type="text"
                            id="company_code"
                            name="company_code"
                            required
                            placeholder="Məs: GF-2024"
                            class="w-full rounded-2xl border border-gray-200 bg-gray-50 px-4 py-3 text-gray-900 shadow-sm transition focus:border-blue-500 focus:bg-white focus:outline-none focus:ring-2 focus:ring-blue-500/20"
                            data-company-code-input
                        >
                        <button
                            type="button"
                            class="inline-flex w-full items-center justify-center rounded-2xl bg-blue-600 px-5 py-3 text-sm font-cal-sans text-white shadow-lg shadow-blue-200 transition hover:bg-blue-500 focus:outline-none focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-blue-600 sm:w-auto"
                            data-company-verify-btn
                        >
                            Kodu yoxla
                        </button>
                    </div>
                    <p class="text-sm text-gray-500">Əvvəlcə şirkət kodunu təsdiqləyin. Təsdiqdən sonra digər sahələr açılacaq.</p>
                    <div class="hidden rounded-xl border px-4 py-3 text-sm" data-company-status></div>
                </div>

                <div class="grid grid-cols-1 gap-6 md:grid-cols-2 hidden opacity-0 transition-opacity duration-300" data-company-fields>
                    <div class="md:col-span-2 grid grid-cols-1 gap-6 md:grid-cols-2">
                        <div>
                            <label for="first_name" class="block text-sm font-cal-sans text-gray-700">Ad</label>
                            <input
                                type="text"
                                id="first_name"
                                name="first_name"
                                required
                                autocomplete="given-name"
                                class="mt-2 w-full rounded-2xl border border-gray-200 bg-gray-50 px-4 py-3 text-gray-900 shadow-sm transition focus:border-blue-500 focus:bg-white focus:outline-none focus:ring-2 focus:ring-blue-500/20"
                            >
                        </div>
                        <div>
                            <label for="last_name" class="block text-sm font-cal-sans text-gray-700">Soyad</label>
                            <input
                                type="text"
                                id="last_name"
                                name="last_name"
                                required
                                autocomplete="family-name"
                                class="mt-2 w-full rounded-2xl border border-gray-200 bg-gray-50 px-4 py-3 text-gray-900 shadow-sm transition focus:border-blue-500 focus:bg-white focus:outline-none focus:ring-2 focus:ring-blue-500/20"
                            >
                        </div>
                    </div>

                    <div>
                        <label for="fin_code" class="block text-sm font-cal-sans text-gray-700">Fin Kod</label>
                        <input
                            type="text"
                            id="fin_code"
                            name="fin_code"
                            required
                            class="mt-2 w-full rounded-2xl border border-gray-200 bg-gray-50 px-4 py-3 text-gray-900 shadow-sm transition focus:border-blue-500 focus:bg-white focus:outline-none focus:ring-2 focus:ring-blue-500/20"
                        >
                    </div>

                    <div>
                        <label for="phone_number" class="block text-sm font-cal-sans text-gray-700">Telefon nömrəsi</label>
                           <div class="flex gap-3">
                            <select id="phone_prefix" name="phone_prefix" required
                                    class="h-12 w-24 rounded-lg border border-gray-300 bg-white px-3 text-gray-900 shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500">
                                <option value="50">050</option>
                                <option value="51">051</option>
                                <option value="55">055</option>
                                <option value="99">099</option>
                                <option value="70">070</option>
                                <option value="77">077</option>
                            </select>
                            <input id="phone_number" name="phone_number" type="text" inputmode="numeric" data-digit-length="7" required
                                   class="h-12 w-full rounded-lg border border-gray-300 px-4 text-gray-900 shadow-sm placeholder:text-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500"
                                   placeholder="XXXXXXX" />
                        </div>
                    </div>

                    <div>
                        <label for="email" class="block text-sm font-cal-sans text-gray-700">Email</label>
                        <input
                            type="email"
                            id="email"
                            name="email"
                            required
                            autocomplete="email"
                            class="mt-2 w-full rounded-2xl border border-gray-200 bg-gray-50 px-4 py-3 text-gray-900 shadow-sm transition focus:border-blue-500 focus:bg-white focus:outline-none focus:ring-2 focus:ring-blue-500/20"
                        >
                    </div>

                    <div>
                        <label for="password" class="block text-sm font-cal-sans text-gray-700">Şifrə</label>
                        <input
                            type="password"
                            id="password"
                            name="password"
                            required
                            minlength="8"
                            class="mt-2 w-full rounded-2xl border border-gray-200 bg-gray-50 px-4 py-3 text-gray-900 shadow-sm transition focus:border-blue-500 focus:bg-white focus:outline-none focus:ring-2 focus:ring-blue-500/20"
                        >
                    </div>

                    <div>
                        <label for="confirm_password" class="block text-sm font-cal-sans text-gray-700">Təkrar Şifrə</label>
                        <input
                            type="password"
                            id="confirm_password"
                            name="confirm_password"
                            required
                            minlength="8"
                            class="mt-2 w-full rounded-2xl border border-gray-200 bg-gray-50 px-4 py-3 text-gray-900 shadow-sm transition focus:border-blue-500 focus:bg-white focus:outline-none focus:ring-2 focus:ring-blue-500/20"
                        >
                        <p class="mt-2 hidden text-sm" data-password-match-status></p>
                    </div>
                </div>

                <div class="flex items-center justify-end">
                    <button
                        type="submit"
                        class="inline-flex items-center justify-center rounded-[3.5rem] bg-blue-600 px-6 py-3 text-sm font-cal-sans text-white shadow-lg shadow-blue-200 transition hover:bg-blue-500 focus:outline-none focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-blue-600"
                        data-worker-submit
                        disabled
                    >
                        Göndər
                    </button>
                </div>
            </form>
        </div>
    </div>
</section>
{% endblock %}
